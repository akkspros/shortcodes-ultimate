// =============================================================================
// Image Carousel shortcode styles
//
// Notes:
// - `&` represents only `.su-image-carousel`, nothing else
// =============================================================================

// -----------------------------------------------------------------------------
// Container
// -----------------------------------------------------------------------------

.su-image-carousel {
	$columns: (
		2 50% 48.5% 3%,
		3 33.3333333333% 31.4% 2.9%,
		4 25% 22.9% 2.8%,
		5 20% 18% 2.5%,
		6 16.6666666666% 14.5% 2.6%,
		7 14.2857142857% 12.4% 2.2%,
		8 12.5% 10.75% 2%
	);

	$ratios: (
		// square
			1 1,
		// landscape
			16 9,
		16 10,
		21 9,
		4 3,
		3 2,
		2 1,
		8 5,
		// portrait
			1 2,
		2 3,
		3 4
	);

	& {
		margin: 1.5em 0;
	}

	&:first-child {
		margin-top: 0;
	}

	&:last-child {
		margin-bottom: 0;
	}

	// --------------------------------------------------------------------------
	// Items and content
	// --------------------------------------------------------------------------

	&-item {
		width: 100%;
		box-sizing: border-box;
	}

	&-item-content {
		position: relative;

		a,
		img {
			display: block;
			width: 100%;
			box-sizing: border-box;
		}

		span {
			position: absolute;
			display: block;
			font-size: 0.9em;
			max-height: 60%;
			overflow: auto;
			line-height: 1.3;
			word-wrap: break-word;
		}

		span:empty {
			display: none;
		}
	}

	// --------------------------------------------------------------------------
	// Columns
	// --------------------------------------------------------------------------

	@each $number, $width, $width-spacing, $margin in $columns {
		&-columns-#{$number} &-item {
			width: $width;
		}
		&-columns-#{$number}#{&}-has-spacing &-item {
			width: $width-spacing;
			margin-right: $margin;
		}
	}

	// --------------------------------------------------------------------------
	// Crop options
	// --------------------------------------------------------------------------

	&-crop &-item-content::before {
		float: left;
		width: 1px;
		margin-left: -1px;
		height: 0;
		content: '';
	}

	&-crop &-item-content::after {
		content: '';
		display: table;
		clear: both;
	}

	&-crop &-item-content img {
		position: absolute;
		left: 0;
		top: 0;
		right: 0;
		bottom: 0;
		width: 100%;
		height: 100%;
		object-fit: cover;
	}

	@each $ratio-x, $ratio-y in $ratios {
		&-crop-#{$ratio-x}-#{$ratio-y} &-item-content::before {
			padding-top: 100% / ($ratio-x / $ratio-y);
		}
	}

	// --------------------------------------------------------------------------
	// Style: Default
	// --------------------------------------------------------------------------

	&-style-default &-item-content {
		margin: 1px;
		img {
			padding: 3px;
			background: white;
			border: 1px solid #ccc;
			border-radius: 7px;
		}

		span {
			bottom: 4px;
			right: 4px;
			left: 4px;
			padding: 0.5em 0.7em;
			background: linear-gradient(to top, rgba(black, 0.7), transparent);
			text-shadow: 0 2px 5px black;
			color: white;
			border-bottom-right-radius: 2px;
			border-bottom-left-radius: 2px;
		}
	}

	// --------------------------------------------------------------------------
	// Style: Minimal
	// --------------------------------------------------------------------------

	&-style-minimal &-item-content {
		margin: 1px;
		span {
			right: 0;
			bottom: 0;
			left: 0;
			padding: 0.7em;
			background: linear-gradient(to top, rgba(black, 0.7), transparent);
			text-shadow: 0 2px 5px black;
			color: white;
		}
	}

	// --------------------------------------------------------------------------
	// Style: Photo
	// --------------------------------------------------------------------------

	&-style-photo &-item-content {
		padding: 7px;

		img {
			border: 5px solid white;
			border-radius: 7px;
			box-shadow: 0 2px 5px rgba(black, 0.5);
		}

		span {
			right: 12px;
			bottom: 12px;
			left: 12px;
			padding: 0.3em 0.5em;
			background: white;
			color: black;
			font-size: 0.9em;
		}
	}

	&-style-photo#{&}-crop &-item-content {
		img {
			top: 7px;
			right: 7px;
			left: 7px;
			bottom: 7px;
			width: calc(100% - 14px);
			height: calc(100% - 14px);
		}
	}
}
